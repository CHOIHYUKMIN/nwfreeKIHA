# ê±´ê°•ê²€ì§„ ì‹œìŠ¤í…œ - ê¸°ìˆ  ìŠ¤íƒ ë° ì•„í‚¤í…ì²˜

**í”„ë¡œì íŠ¸ëª…**: ê±´ê°•ê²€ì§„ ê´€ë¦¬ ì‹œìŠ¤í…œ (NWFREEPILOT)
**í˜„ì¬ ë²„ì „**: v3.1
**ì‘ì„±ì¼**: 2025-10-29

---

## ğŸ“‹ ëª©ì°¨

1. [ê¸°ìˆ  ìŠ¤íƒ ê°œìš”](#ê¸°ìˆ -ìŠ¤íƒ-ê°œìš”)
2. [í”„ë¡ íŠ¸ì—”ë“œ ê¸°ìˆ ](#í”„ë¡ íŠ¸ì—”ë“œ-ê¸°ìˆ )
3. [ë°±ì—”ë“œ ê¸°ìˆ ](#ë°±ì—”ë“œ-ê¸°ìˆ )
4. [ë°ì´í„° ì €ì¥ ë° ë™ê¸°í™”](#ë°ì´í„°-ì €ì¥-ë°-ë™ê¸°í™”)
5. [ì˜¤í”„ë¼ì¸ ê¸°ëŠ¥](#ì˜¤í”„ë¼ì¸-ê¸°ëŠ¥)
6. [ìºì‹± ì „ëµ](#ìºì‹±-ì „ëµ)
7. [ë³´ì•ˆ ë° ì„±ëŠ¥](#ë³´ì•ˆ-ë°-ì„±ëŠ¥)
8. [ë°°í¬ ë° ìš´ì˜](#ë°°í¬-ë°-ìš´ì˜)

---

## ğŸ¯ ê¸°ìˆ  ìŠ¤íƒ ê°œìš”

### í•µì‹¬ ê¸°ìˆ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤                          â”‚
â”‚          HTML5 + CSS3 + Vanilla JavaScript (ES6+)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PWA (Progressive Web App)                 â”‚
â”‚              Service Worker + Cache API + Manifest          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ë¡œì»¬ ì €ì¥ì†Œ        â”‚          ë°±ì—”ë“œ API  â”‚
â”‚   IndexedDB          â”‚           Express.js  â”‚
â”‚   localStorage       â”‚     REST API    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   ë°ì´í„°ë² ì´ìŠ¤      â”‚
                    â”‚   MSSQL Server      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê¸°ìˆ  ì„ íƒ ì´ìœ 

| ê¸°ìˆ  | ì„ íƒ ì´ìœ  |
|------|-----------|
| **Vanilla JavaScript** | í”„ë ˆì„ì›Œí¬ ì˜ì¡´ì„± ì œê±°, ê°€ë²¼ìš´ ë²ˆë“¤ í¬ê¸°, ë¹ ë¥¸ ë¡œë”© |
| **PWA** | ì˜¤í”„ë¼ì¸ ì§€ì›, ì•±ì²˜ëŸ¼ ë™ì‘, ì„¤ì¹˜ ê°€ëŠ¥ |
| **IndexedDB** | ëŒ€ìš©ëŸ‰ ë°ì´í„° ì €ì¥, êµ¬ì¡°í™”ëœ ë°ì´í„°, íŠ¸ëœì­ì…˜ ì§€ì› |
| **MSSQL** | ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ì•ˆì •ì„±, íŠ¸ëœì­ì…˜ ë¬´ê²°ì„±, ë³µì¡í•œ ì¿¼ë¦¬ ì§€ì› |

---

## ğŸ’» í”„ë¡ íŠ¸ì—”ë“œ ê¸°ìˆ 

### 1. HTML5 & CSS3

#### ì‹œë§¨í‹± HTML
```html
<header>, <nav>, <main>, <section>, <article>, <footer>
```
- ì ‘ê·¼ì„± í–¥ìƒ
- SEO ìµœì í™”
- êµ¬ì¡°ì  ë§ˆí¬ì—…

#### ëª¨ë˜ CSS ê¸°ëŠ¥
```css
/* CSS Grid & Flexbox */
display: grid;
grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));

/* CSS Variables (Custom Properties) */
:root {
  --primary-color: #4f46e5;
  --success-color: #10b981;
}

/* Media Queries (ë°˜ì‘í˜•) */
@media (max-width: 768px) { ... }
```

#### Font Awesome Icons
- ì•„ì´ì½˜ ë¼ì´ë¸ŒëŸ¬ë¦¬: Font Awesome 6.0.0
- CDN ë°©ì‹ ë¡œë“œ
- 600+ ì•„ì´ì½˜ ì‚¬ìš©

### 2. JavaScript (ES6+)

#### í´ë˜ìŠ¤ ê¸°ë°˜ ì•„í‚¤í…ì²˜
```javascript
class HealthCheckupApp {
    constructor() {
        this.VERSION = '3.1';
        this.db = null;
        this.isOnline = false;
    }

    async init() { ... }
    async syncData() { ... }
}
```

**ì¥ì **:
- ì½”ë“œ êµ¬ì¡°í™” ë° ì¬ì‚¬ìš©ì„±
- OOP íŒ¨ëŸ¬ë‹¤ì„ ì ìš©
- ëª…í™•í•œ ì±…ì„ ë¶„ë¦¬

#### ë¹„ë™ê¸° ì²˜ë¦¬ (async/await)
```javascript
// Promise ì²´ì´ë‹ ëŒ€ì‹  async/await ì‚¬ìš©
async function loadPatients() {
    try {
        const response = await fetch('/api/patients');
        const data = await response.json();
        return data;
    } catch (error) {
        console.error('í™˜ì ë¡œë“œ ì‹¤íŒ¨:', error);
    }
}
```

#### ëª¨ë“ˆí™”ëœ ê¸°ëŠ¥
- **app.js**: ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§ (4900+ ì¤„)
- **sw-register.js**: Service Worker ê´€ë¦¬
- **p2p-transfer.js**: WebRTC P2P í†µì‹ 
- **p2p-ui-handler.js**: P2P UI í•¸ë“¤ëŸ¬

### 3. Progressive Web App (PWA)

#### Manifest.json
```json
{
  "name": "ê±´ê°•ê²€ì§„ ì‹œìŠ¤í…œ",
  "short_name": "ê±´ê°•ê²€ì§„",
  "start_url": "./",
  "display": "standalone",
  "background_color": "#4f46e5",
  "theme_color": "#4f46e5",
  "orientation": "any",
  "icons": [...]
}
```

**PWA ê¸°ëŠ¥**:
- âœ… ì„¤ì¹˜ ê°€ëŠ¥ (Add to Home Screen)
- âœ… ì˜¤í”„ë¼ì¸ ë™ì‘
- âœ… í‘¸ì‹œ ì•Œë¦¼ (ì„ íƒì )
- âœ… ë°±ê·¸ë¼ìš´ë“œ ë™ê¸°í™”
- âœ… ì•±ì²˜ëŸ¼ ë™ì‘ (standalone ëª¨ë“œ)

#### Service Worker ìƒëª…ì£¼ê¸°
```javascript
// 1. ì„¤ì¹˜ (Install)
self.addEventListener('install', (event) => {
    event.waitUntil(
        caches.open(STATIC_CACHE_NAME)
            .then(cache => cache.addAll(STATIC_FILES))
    );
});

// 2. í™œì„±í™” (Activate)
self.addEventListener('activate', (event) => {
    event.waitUntil(
        caches.keys().then(cacheNames =>
            Promise.all(
                cacheNames.map(cacheName => {
                    if (cacheName !== STATIC_CACHE_NAME) {
                        return caches.delete(cacheName);
                    }
                })
            )
        )
    );
});

// 3. ìš”ì²­ ê°€ë¡œì±„ê¸° (Fetch)
self.addEventListener('fetch', (event) => {
    event.respondWith(networkFirstStrategy(request));
});
```

---

## ğŸ”§ ë°±ì—”ë“œ ê¸°ìˆ 

### 1. Node.js + Express.js

#### ì„œë²„ êµ¬ì¡°
```javascript
const express = require('express');
const app = express();

// ë¯¸ë“¤ì›¨ì–´
app.use(express.json());
app.use(express.static('./'));
app.use(cors());

// REST API ì—”ë“œí¬ì¸íŠ¸
app.get('/api/patients', getPatients);
app.post('/api/patients', createPatient);
app.put('/api/patients/:id', updatePatient);
app.delete('/api/patients/:id', deletePatient);

// í—¬ìŠ¤ ì²´í¬
app.get('/api/health', (req, res) => {
    res.json({ status: 'ok', timestamp: new Date() });
});
```

#### ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸

| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| GET | `/api/patients` | ëª¨ë“  í™˜ì ì¡°íšŒ |
| GET | `/api/patients/:id` | íŠ¹ì • í™˜ì ì¡°íšŒ |
| POST | `/api/patients` | í™˜ì ë“±ë¡ |
| PUT | `/api/patients/:id` | í™˜ì ìˆ˜ì • |
| DELETE | `/api/patients/:id` | í™˜ì ì‚­ì œ |
| GET | `/api/checkups` | ëª¨ë“  ê²€ì§„ ì¡°íšŒ |
| POST | `/api/checkups` | ê²€ì§„ ì˜ˆì•½ |
| GET | `/api/checkup-types` | ê²€ì§„ ìœ í˜• ì¡°íšŒ |
| GET | `/api/health` | ì„œë²„ ìƒíƒœ í™•ì¸ |

### 2. MSSQL Server ë°ì´í„°ë² ì´ìŠ¤

#### ì—°ê²° ì„¤ì • (mssql-config.js)
```javascript
const sql = require('mssql');

const config = {
    server: process.env.DB_SERVER || 'localhost',
    database: process.env.DB_DATABASE || 'PWAPOC',
    user: process.env.DB_USER || 'sa',
    password: process.env.DB_PASSWORD,
    options: {
        encrypt: false,
        trustServerCertificate: true,
        enableArithAbort: true
    }
};

module.exports = async function getConnection() {
    return await sql.connect(config);
};
```

#### ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

**patients (í™˜ì)**
```sql
CREATE TABLE patients (
    id INT IDENTITY(1,1) PRIMARY KEY,
    patient_id VARCHAR(50) UNIQUE NOT NULL,
    name NVARCHAR(100) NOT NULL,
    birth_date DATE,
    gender CHAR(1),
    phone VARCHAR(20),
    email VARCHAR(100),
    address NVARCHAR(200),
    emergency_contact NVARCHAR(100),
    created_at DATETIME DEFAULT GETDATE(),
    updated_at DATETIME DEFAULT GETDATE()
);
```

**checkups (ê²€ì§„)**
```sql
CREATE TABLE checkups (
    id INT IDENTITY(1,1) PRIMARY KEY,
    checkup_no VARCHAR(50) UNIQUE NOT NULL,
    patient_id INT FOREIGN KEY REFERENCES patients(id),
    checkup_type_id INT FOREIGN KEY REFERENCES checkup_types(id),
    checkup_date DATETIME NOT NULL,
    status VARCHAR(20) DEFAULT 'scheduled',
    doctor_name NVARCHAR(100),
    notes NVARCHAR(MAX),
    created_at DATETIME DEFAULT GETDATE(),
    updated_at DATETIME DEFAULT GETDATE()
);
```

**checkup_types (ê²€ì§„ ìœ í˜•)**
```sql
CREATE TABLE checkup_types (
    id INT IDENTITY(1,1) PRIMARY KEY,
    type_name NVARCHAR(100) NOT NULL,
    type_code VARCHAR(20) UNIQUE NOT NULL,
    description NVARCHAR(500),
    duration_minutes INT,
    price DECIMAL(10,2),
    is_active BIT DEFAULT 1
);
```

**checkup_items (ê²€ì§„ í•­ëª©)**
```sql
CREATE TABLE checkup_items (
    id INT IDENTITY(1,1) PRIMARY KEY,
    checkup_id INT FOREIGN KEY REFERENCES checkups(id) ON DELETE CASCADE,
    item_category NVARCHAR(50),
    item_name NVARCHAR(100),
    item_value NVARCHAR(200),
    reference_range NVARCHAR(100),
    unit NVARCHAR(20),
    status VARCHAR(20),
    notes NVARCHAR(500),
    measured_at DATETIME
);
```

#### SQL Injection ë°©ì§€
```javascript
// âŒ ì·¨ì•½í•œ ì½”ë“œ
const query = `SELECT * FROM patients WHERE name = '${name}'`;

// âœ… ì•ˆì „í•œ ì½”ë“œ (Parameterized Query)
const request = pool.request();
request.input('name', sql.NVarChar, name);
const result = await request.query(
    'SELECT * FROM patients WHERE name = @name'
);
```

---

## ğŸ’¾ ë°ì´í„° ì €ì¥ ë° ë™ê¸°í™”

### 1. IndexedDB (í´ë¼ì´ì–¸íŠ¸ ì €ì¥ì†Œ)

#### ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°
```javascript
const dbVersion = 6;
const stores = {
    patients: 'patients',
    checkups: 'checkups',
    checkupTypes: 'checkupTypes',
    checkupItems: 'checkupItems',
    offlineRequests: 'offlineRequests'
};
```

#### ìŠ¤í‚¤ë§ˆ ì •ì˜
```javascript
// patients ìŠ¤í† ì–´
objectStore = db.createObjectStore('patients', { keyPath: 'id' });
objectStore.createIndex('patient_id', 'patient_id', { unique: true });
objectStore.createIndex('name', 'name', { unique: false });
objectStore.createIndex('sync_status', 'sync_status', { unique: false });

// checkups ìŠ¤í† ì–´
objectStore = db.createObjectStore('checkups', { keyPath: 'id' });
objectStore.createIndex('checkup_no', 'checkup_no', { unique: true });
objectStore.createIndex('patient_id', 'patient_id', { unique: false });
objectStore.createIndex('checkup_date', 'checkup_date', { unique: false });
objectStore.createIndex('sync_status', 'sync_status', { unique: false });
```

#### CRUD ì‘ì—…
```javascript
// Create
async saveToIndexedDB(storeName, data) {
    return new Promise((resolve, reject) => {
        const transaction = this.db.transaction([storeName], 'readwrite');
        const store = transaction.objectStore(storeName);
        const request = store.put(data);

        request.onsuccess = () => resolve(request.result);
        request.onerror = () => reject(request.error);
    });
}

// Read
async getFromIndexedDB(storeName, id) {
    return new Promise((resolve, reject) => {
        const transaction = this.db.transaction([storeName], 'readonly');
        const store = transaction.objectStore(storeName);
        const request = store.get(id);

        request.onsuccess = () => resolve(request.result);
        request.onerror = () => reject(request.error);
    });
}

// Update - put()ê³¼ ë™ì¼

// Delete
async deleteFromIndexedDB(storeName, id) {
    return new Promise((resolve, reject) => {
        const transaction = this.db.transaction([storeName], 'readwrite');
        const store = transaction.objectStore(storeName);
        const request = store.delete(id);

        request.onsuccess = () => resolve();
        request.onerror = () => reject(request.error);
    });
}
```

### 2. ì–‘ë°©í–¥ ë™ê¸°í™” ì‹œìŠ¤í…œ

#### ë™ê¸°í™” í”Œë¡œìš°
```
ì˜¨ë¼ì¸ ë³µê·€ ì‹œ:
1. ë¡œì»¬ â†’ ì„œë²„ (ì˜¤í”„ë¼ì¸ ë°ì´í„° ì—…ë¡œë“œ)
   â”œâ”€ pending ìƒíƒœ ë°ì´í„° ìˆ˜ì§‘
   â”œâ”€ ì„œë²„ë¡œ POST ìš”ì²­
   â”œâ”€ ì„ì‹œ ID â†’ ì‹¤ì œ ID ë§¤í•‘
   â””â”€ sync_status: 'synced' ì—…ë°ì´íŠ¸

2. ì„œë²„ â†’ ë¡œì»¬ (ì „ì²´ ë°ì´í„° ë‹¤ìš´ë¡œë“œ)
   â”œâ”€ í™˜ì ë°ì´í„° ë™ê¸°í™”
   â”œâ”€ ê²€ì§„ ìœ í˜• ë™ê¸°í™”
   â”œâ”€ ê²€ì§„ ë°ì´í„° ë™ê¸°í™”
   â””â”€ ê²€ì§„ í•­ëª© ë™ê¸°í™”

3. ë™ê¸°í™” ì™„ë£Œ ì‹œê°„ ì—…ë°ì´íŠ¸
```

#### ì„ì‹œ ID ì‹œìŠ¤í…œ
```javascript
// ì˜¤í”„ë¼ì¸ í™˜ì ë“±ë¡ ì‹œ ì„ì‹œ ID ìƒì„±
const tempPatientId = `temp_patient_${Date.now()}_${Math.random()}`;

// ì„œë²„ ë™ê¸°í™” ì‹œ ì‹¤ì œ IDë¡œ ë³€í™˜
const response = await fetch('/api/patients', {
    method: 'POST',
    body: JSON.stringify(tempPatient)
});

const { patient: realPatient } = await response.json();

// IndexedDB ì—…ë°ì´íŠ¸: ì„ì‹œ â†’ ì‹¤ì œ
await this.deleteFromIndexedDB('patients', tempPatientId);
await this.saveToIndexedDB('patients', {
    ...realPatient,
    sync_status: 'synced'
});
```

#### ë™ê¸°í™” ìƒíƒœ ê´€ë¦¬
```javascript
sync_status: 'pending'         // ë™ê¸°í™” ëŒ€ê¸°
sync_status: 'synced'          // ë™ê¸°í™” ì™„ë£Œ
sync_status: 'pending_delete'  // ì‚­ì œ ì˜ˆì•½
sync_status: 'error'           // ë™ê¸°í™” ì‹¤íŒ¨
```

### 3. ì£¼ê¸°ì  ë™ê¸°í™”

```javascript
// 5ë¶„(300ì´ˆ)ë§ˆë‹¤ ìë™ ë™ê¸°í™”
startPeriodicSync() {
    this.syncInterval = setInterval(async () => {
        if (this.isOnline && this.autoSyncEnabled) {
            console.log('ğŸ”„ ì£¼ê¸°ì  ë™ê¸°í™” ì‹œì‘...');

            // 1. ì˜¤í”„ë¼ì¸ ë°ì´í„° ì—…ë¡œë“œ
            await this.syncOfflineRequests();

            // 2. ì„œë²„ ë°ì´í„° ë‹¤ìš´ë¡œë“œ
            await this.performFullDataSync();

            console.log('âœ… ì£¼ê¸°ì  ë™ê¸°í™” ì™„ë£Œ');
        }
    }, this.syncIntervalSeconds * 1000);
}
```

---

## ğŸ“´ ì˜¤í”„ë¼ì¸ ê¸°ëŠ¥

### 1. ì˜¤í”„ë¼ì¸ ê°ì§€

```javascript
// ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ê°ì§€
window.addEventListener('online', async () => {
    this.isOnline = await this.checkServerConnection();
    this.updateConnectionStatus();

    if (this.autoSyncEnabled) {
        // ìë™ ë™ê¸°í™”
        await this.syncOfflineRequests();
        await this.performFullDataSync();
    }
});

window.addEventListener('offline', () => {
    this.isOnline = false;
    this.updateConnectionStatus();
    this.showNotification('ì˜¤í”„ë¼ì¸ ëª¨ë“œì…ë‹ˆë‹¤.', 'warning');
});
```

### 2. ì‹¤ì œ ì„œë²„ ì—°ê²° í™•ì¸

```javascript
async checkServerConnection() {
    try {
        const controller = new AbortController();
        const timeoutId = setTimeout(() => controller.abort(), 5000);

        const response = await fetch(this.apiBaseUrl + '/health', {
            method: 'GET',
            signal: controller.signal,
            cache: 'no-cache'
        });

        clearTimeout(timeoutId);

        if (response.ok) {
            console.log('âœ… ì„œë²„ ì—°ê²° ì •ìƒ');
            return true;
        }
        return false;
    } catch (error) {
        console.log('âŒ ì„œë²„ ì—°ê²° ì‹¤íŒ¨:', error.message);
        return false;
    }
}
```

### 3. ì˜¤í”„ë¼ì¸ ë°ì´í„° ì‘ì—…

#### í™˜ì ë“±ë¡ (ì˜¤í”„ë¼ì¸)
```javascript
async registerPatient(patientData) {
    if (this.isOnline) {
        // ì˜¨ë¼ì¸: ì„œë²„ë¡œ ì§ì ‘ ì „ì†¡
        const response = await fetch('/api/patients', {
            method: 'POST',
            body: JSON.stringify(patientData)
        });
        const result = await response.json();

        // IndexedDBì—ë„ ì €ì¥ (ìºì‹±)
        await this.saveToIndexedDB('patients', {
            ...result.patient,
            sync_status: 'synced'
        });
    } else {
        // ì˜¤í”„ë¼ì¸: ì„ì‹œ IDë¡œ ë¡œì»¬ ì €ì¥
        const tempPatient = {
            ...patientData,
            id: `temp_patient_${Date.now()}`,
            sync_status: 'pending',
            created_at: new Date().toISOString()
        };

        await this.saveToIndexedDB('patients', tempPatient);
        this.showNotification('ì˜¤í”„ë¼ì¸ ëª¨ë“œ: ì˜¨ë¼ì¸ ë³µê·€ ì‹œ ë™ê¸°í™”ë©ë‹ˆë‹¤.', 'info');
    }
}
```

---

## ğŸ”„ P2P ë°ì´í„° ì „ì†¡

### 1. WebRTC ê¸°ìˆ 

#### ê°œìš”
- **ìš©ë„**: ì¸í„°ë„· ì—†ì´ ê¸°ê¸° ê°„ ì§ì ‘ ë°ì´í„° ì „ì†¡
- **í”„ë¡œí† ì½œ**: WebRTC DataChannel
- **ì—°ê²° ë°©ì‹**: QR ì½”ë“œ ê¸°ë°˜ Offer/Answer êµí™˜

#### ì•„í‚¤í…ì²˜
```
ì†¡ì‹ ì (Sender)                         ìˆ˜ì‹ ì (Receiver)
    â”‚                                          â”‚
    â”œâ”€ 1. Offer ìƒì„±                           â”‚
    â”œâ”€ 2. Offer QR ì½”ë“œ ìƒì„±                   â”‚
    â”‚                                          â”‚
    â”‚  â—„â”€â”€â”€â”€â”€â”€ Offer QR ìŠ¤ìº” â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                          â”‚
    â”‚                                   3. Answer ìƒì„±
    â”‚                                   4. Answer QR ì½”ë“œ ìƒì„±
    â”‚                                          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Answer QR ìŠ¤ìº” â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
    â”‚                                          â”‚
    â”œâ”€ 5. P2P ì—°ê²° ì™„ë£Œ                        â”‚
    â”œâ”€ 6. ë°ì´í„° ì „ì†¡ (ì²­í¬ ë‹¨ìœ„)               â”‚
    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
    â”‚                                   7. ë°ì´í„° ìˆ˜ì‹  ë° ë³‘í•©
    â”‚                                   8. IndexedDB ì €ì¥
```

### 2. WebRTC DataChannel

#### RTCPeerConnection ì„¤ì •
```javascript
class P2PTransferManager {
    constructor() {
        this.peerConnection = null;
        this.dataChannel = null;
        this.config = {
            iceServers: [
                { urls: 'stun:stun.l.google.com:19302' },
                { urls: 'stun:stun1.l.google.com:19302' }
            ]
        };
    }

    async createOffer() {
        this.peerConnection = new RTCPeerConnection(this.config);

        // DataChannel ìƒì„±
        this.dataChannel = this.peerConnection.createDataChannel('healthData', {
            ordered: true,
            maxRetransmits: 3
        });

        this.setupDataChannelHandlers();

        // Offer ìƒì„±
        const offer = await this.peerConnection.createOffer();
        await this.peerConnection.setLocalDescription(offer);

        // ICE Candidate ìˆ˜ì§‘ ëŒ€ê¸°
        await this.waitForICEGathering();

        return this.peerConnection.localDescription;
    }
}
```

#### DataChannel ì´ë²¤íŠ¸ í•¸ë“¤ë§
```javascript
setupDataChannelHandlers() {
    this.dataChannel.onopen = () => {
        console.log('âœ… DataChannel ì—°ê²°ë¨');
        this.onConnectionStateChange('connected');

        // ì—°ê²°ë˜ë©´ ë°ì´í„° ì „ì†¡ ì‹œì‘
        if (this.isSender) {
            this.sendData();
        }
    };

    this.dataChannel.onmessage = (event) => {
        console.log('ğŸ“¥ ë°ì´í„° ìˆ˜ì‹ :', event.data.length, 'bytes');
        this.receiveChunk(event.data);
    };

    this.dataChannel.onerror = (error) => {
        console.error('âŒ DataChannel ì˜¤ë¥˜:', error);
        this.onError(error);
    };

    this.dataChannel.onclose = () => {
        console.log('ğŸ”Œ DataChannel ë‹«í˜');
        this.cleanup();
    };
}
```

### 3. ì²­í¬ ë‹¨ìœ„ ì „ì†¡

```javascript
async sendData() {
    // ì „ì²´ ë°ì´í„° ìˆ˜ì§‘
    const allData = {
        patients: await app.getAllFromStore('patients'),
        checkups: await app.getAllFromStore('checkups'),
        checkupTypes: await app.getAllFromStore('checkupTypes'),
        checkupItems: await app.getAllFromStore('checkupItems')
    };

    const dataString = JSON.stringify(allData);
    const totalSize = dataString.length;
    const chunkSize = 16 * 1024; // 16KB ì²­í¬
    const totalChunks = Math.ceil(totalSize / chunkSize);

    console.log(`ğŸ“¦ ì´ ${totalChunks}ê°œ ì²­í¬ ì „ì†¡ ì‹œì‘ (${totalSize} bytes)`);

    // ì²­í¬ ë‹¨ìœ„ë¡œ ì „ì†¡
    for (let i = 0; i < totalChunks; i++) {
        const start = i * chunkSize;
        const end = Math.min(start + chunkSize, totalSize);
        const chunk = dataString.substring(start, end);

        const message = {
            type: i === totalChunks - 1 ? 'final' : 'chunk',
            index: i,
            total: totalChunks,
            data: chunk
        };

        this.dataChannel.send(JSON.stringify(message));

        // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
        this.updateProgress((i + 1) / totalChunks * 100);

        // ë²„í¼ ì˜¤ë²„í”Œë¡œìš° ë°©ì§€
        await this.waitForBufferSpace();
    }

    console.log('âœ… ëª¨ë“  ì²­í¬ ì „ì†¡ ì™„ë£Œ');
}
```

### 4. ë°ì´í„° ìˆ˜ì‹  ë° ë³‘í•©

```javascript
receiveChunk(message) {
    const { type, index, total, data } = JSON.parse(message);

    // ì²­í¬ ì €ì¥
    this.receivedChunks[index] = data;
    this.receivedCount++;

    // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
    this.updateProgress(this.receivedCount / total * 100);

    // ëª¨ë“  ì²­í¬ ìˆ˜ì‹  ì™„ë£Œ
    if (type === 'final') {
        console.log('âœ… ëª¨ë“  ì²­í¬ ìˆ˜ì‹  ì™„ë£Œ');
        this.mergeAndSaveData();
    }
}

async mergeAndSaveData() {
    // ì²­í¬ ë³‘í•©
    const fullData = this.receivedChunks.join('');
    const parsedData = JSON.parse(fullData);

    // IndexedDBì— ì €ì¥ (ì¤‘ë³µ ID ì²˜ë¦¬)
    let addedCount = 0;
    let skippedCount = 0;

    for (const patient of parsedData.patients) {
        const exists = await app.getFromStore('patients', patient.id);
        if (!exists) {
            await app.addToStore('patients', patient);
            addedCount++;
        } else {
            skippedCount++;
        }
    }

    console.log(`âœ… ì €ì¥ ì™„ë£Œ: ${addedCount}ê°œ ì¶”ê°€, ${skippedCount}ê°œ ê±´ë„ˆëœ€`);
    this.onTransferComplete();
}
```

### 5. QR ì½”ë“œ ê¸°ë°˜ ì—°ê²°

```javascript
// QR ì½”ë“œ ìƒì„± (ì†¡ì‹ ì)
generateQRCode(offerSDP) {
    const qrContainer = document.getElementById('qr-container');

    new QRCode(qrContainer, {
        text: JSON.stringify(offerSDP),
        width: 256,
        height: 256,
        colorDark: '#000000',
        colorLight: '#ffffff',
        correctLevel: QRCode.CorrectLevel.H
    });
}

// QR ì½”ë“œ ìŠ¤ìº” (ìˆ˜ì‹ ì)
async scanQRCode() {
    const html5QrCode = new Html5Qrcode('qr-reader');

    await html5QrCode.start(
        { facingMode: 'environment' },
        { fps: 10, qrbox: { width: 250, height: 250 } },
        async (decodedText) => {
            const offerSDP = JSON.parse(decodedText);
            await this.handleReceivedOffer(offerSDP);
            html5QrCode.stop();
        }
    );
}
```

---

## ğŸ—„ï¸ ìºì‹± ì „ëµ

### 1. Service Worker ìºì‹±

#### ìºì‹œ ë ˆë²¨
```javascript
const CACHE_NAME = 'pwa-poc-v19';
const STATIC_CACHE_NAME = 'pwa-poc-static-v19';   // ì •ì  íŒŒì¼
const DYNAMIC_CACHE_NAME = 'pwa-poc-dynamic-v19'; // ë™ì  ë¦¬ì†ŒìŠ¤
```

#### ìºì‹œ ìš°ì„  ì „ëµ (Cache First)
```javascript
// ì •ì  íŒŒì¼: CSS, JS, ì´ë¯¸ì§€
async function cacheFirstStrategy(request) {
    // 1. ìºì‹œì—ì„œ ì°¾ê¸°
    const cachedResponse = await caches.match(request);
    if (cachedResponse) {
        return cachedResponse;
    }

    // 2. ìºì‹œì— ì—†ìœ¼ë©´ ë„¤íŠ¸ì›Œí¬
    const networkResponse = await fetch(request);

    // 3. ë„¤íŠ¸ì›Œí¬ ì‘ë‹µì„ ìºì‹œì— ì €ì¥
    if (networkResponse.ok) {
        const cache = await caches.open(DYNAMIC_CACHE_NAME);
        cache.put(request, networkResponse.clone());
    }

    return networkResponse;
}
```

#### ë„¤íŠ¸ì›Œí¬ ìš°ì„  ì „ëµ (Network First)
```javascript
// HTML í˜ì´ì§€, API ì™¸ ë¦¬ì†ŒìŠ¤
async function networkFirstStrategy(request) {
    try {
        // 1. ë„¤íŠ¸ì›Œí¬ ì‹œë„
        const networkResponse = await fetch(request);

        if (networkResponse.ok) {
            // 2. ì„±ê³µ ì‹œ ìºì‹œì— ì €ì¥
            const cache = await caches.open(DYNAMIC_CACHE_NAME);
            cache.put(request, networkResponse.clone());
        }

        return networkResponse;
    } catch (error) {
        // 3. ë„¤íŠ¸ì›Œí¬ ì‹¤íŒ¨ ì‹œ ìºì‹œ í´ë°±
        const cachedResponse = await caches.match(request);
        if (cachedResponse) {
            return cachedResponse;
        }

        // 4. ìºì‹œë„ ì—†ìœ¼ë©´ ì˜¤í”„ë¼ì¸ í˜ì´ì§€
        return getOfflineFallback();
    }
}
```

#### API ìš”ì²­ ì²˜ë¦¬
```javascript
// APIëŠ” ìºì‹±í•˜ì§€ ì•ŠìŒ (ì‹¤ì‹œê°„ ë°ì´í„°)
if (request.url.includes('/api/')) {
    // ìºì‹± ì—†ì´ ë„¤íŠ¸ì›Œí¬ë¡œë§Œ ì „ë‹¬
    return;
}
```

### 2. IndexedDB ìºì‹±

#### ì„œë²„ ë°ì´í„° ìºì‹±
```javascript
async loadPatients() {
    if (this.isOnline) {
        // 1. ì„œë²„ì—ì„œ ê°€ì ¸ì˜¤ê¸°
        const response = await fetch('/api/patients');
        const result = await response.json();

        // 2. IndexedDBì— ìºì‹œ ì €ì¥
        await this.replaceAllData('patients', result.data);

        return result.data;
    } else {
        // 3. ì˜¤í”„ë¼ì¸: IndexedDBì—ì„œ ë¡œë“œ
        return await this.getAllFromStore('patients');
    }
}
```

#### ìºì‹œ ì—…ë°ì´íŠ¸ ì „ëµ
```javascript
async replaceAllData(storeName, newData) {
    const transaction = this.db.transaction([storeName], 'readwrite');
    const store = transaction.objectStore(storeName);

    // 1. ê¸°ì¡´ ë°ì´í„° ëª¨ë‘ ì‚­ì œ
    await store.clear();

    // 2. ìƒˆ ë°ì´í„° ì¼ê´„ ì €ì¥
    for (const item of newData) {
        await store.put(item);
    }

    console.log(`âœ… ${storeName}: ${newData.length}ê°œ ìºì‹œ ì—…ë°ì´íŠ¸`);
}
```

---

## ğŸ” ë³´ì•ˆ ë° ì„±ëŠ¥

### 1. ë³´ì•ˆ

#### SQL Injection ë°©ì§€
```javascript
// âœ… Parameterized Query ì‚¬ìš©
const request = pool.request();
request.input('id', sql.Int, patientId);
request.input('name', sql.NVarChar, patientName);
const result = await request.query(`
    SELECT * FROM patients
    WHERE id = @id AND name = @name
`);
```

#### XSS (Cross-Site Scripting) ë°©ì§€
```javascript
// HTML ì´ìŠ¤ì¼€ì´í”„ ì²˜ë¦¬
function escapeHtml(text) {
    const map = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#039;'
    };
    return text.replace(/[&<>"']/g, m => map[m]);
}

// ì‚¬ìš© ì˜ˆ
patientCard.innerHTML = `
    <h3>${escapeHtml(patient.name)}</h3>
    <p>${escapeHtml(patient.phone)}</p>
`;
```

#### í™˜ê²½ ë³€ìˆ˜ ë³´ì•ˆ
```javascript
// .env íŒŒì¼ (Gitì— ì»¤ë°‹ ì•ˆë¨)
DB_PASSWORD=your_secure_password
DB_SERVER=localhost
DB_DATABASE=PWAPOC
```

### 2. ì„±ëŠ¥ ìµœì í™”

#### ì§€ì—° ë¡œë”© (Lazy Loading)
```javascript
// ì´ˆê¸° ë¡œë“œ ì‹œ í•„ìš”í•œ ë°ì´í„°ë§Œ
async init() {
    await this.initIndexedDB();
    this.loadDashboard();  // ëŒ€ì‹œë³´ë“œë§Œ ë¡œë“œ
}

// ì„¹ì…˜ ì „í™˜ ì‹œ ë¡œë“œ
showSection(sectionName) {
    if (sectionName === 'patients') {
        this.loadPatients();  // í™˜ì ì„¹ì…˜ ì§„ì… ì‹œ ë¡œë“œ
    }
}
```

#### ì¸ë±ìŠ¤ í™œìš©
```javascript
// IndexedDB ì¸ë±ìŠ¤ë¡œ ë¹ ë¥¸ ê²€ìƒ‰
async searchPatientsByName(name) {
    const transaction = this.db.transaction(['patients'], 'readonly');
    const store = transaction.objectStore('patients');
    const index = store.index('name');  // name ì¸ë±ìŠ¤ ì‚¬ìš©

    const range = IDBKeyRange.bound(
        name.toLowerCase(),
        name.toLowerCase() + '\uffff'
    );

    return await index.getAll(range);
}
```

#### ë””ë°”ìš´ì‹± (Debouncing)
```javascript
// ê²€ìƒ‰ ì…ë ¥ ë””ë°”ìš´ì‹±
let searchTimeout;
searchInput.addEventListener('input', (e) => {
    clearTimeout(searchTimeout);

    searchTimeout = setTimeout(() => {
        this.searchPatients(e.target.value);
    }, 300);  // 300ms ëŒ€ê¸°
});
```

#### íŠ¸ëœì­ì…˜ ìµœì í™”
```javascript
// âŒ ëŠë¦° ë°©ë²•: ê°œë³„ íŠ¸ëœì­ì…˜
for (const patient of patients) {
    await this.saveToIndexedDB('patients', patient);
}

// âœ… ë¹ ë¥¸ ë°©ë²•: ë‹¨ì¼ íŠ¸ëœì­ì…˜
const transaction = this.db.transaction(['patients'], 'readwrite');
const store = transaction.objectStore('patients');

for (const patient of patients) {
    store.put(patient);
}

await transaction.complete;
```

### 3. ì—ëŸ¬ ì²˜ë¦¬

#### ì¤‘ì•™ ì§‘ì¤‘ì‹ ì—ëŸ¬ í•¸ë“¤ë§
```javascript
async fetchAPI(endpoint, options = {}) {
    try {
        const response = await fetch(this.apiBaseUrl + endpoint, {
            timeout: 10000,
            ...options
        });

        if (!response.ok) {
            throw new Error(`HTTP ${response.status}: ${response.statusText}`);
        }

        return await response.json();
    } catch (error) {
        console.error('API ìš”ì²­ ì‹¤íŒ¨:', error);

        // ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì‹œ ì˜¤í”„ë¼ì¸ ëª¨ë“œ
        if (error.message.includes('Failed to fetch')) {
            this.isOnline = false;
            this.updateConnectionStatus();
        }

        // ì˜¤í”„ë¼ì¸ íì— ì €ì¥
        if (options.method === 'POST' || options.method === 'PUT') {
            await this.saveOfflineRequest(endpoint, options);
        }

        throw error;
    }
}
```

#### ì‚¬ìš©ì ì¹œí™”ì  ì•Œë¦¼
```javascript
showNotification(message, type = 'info') {
    const notification = document.getElementById('notification');
    const iconMap = {
        success: 'fa-check-circle',
        error: 'fa-exclamation-circle',
        warning: 'fa-exclamation-triangle',
        info: 'fa-info-circle'
    };

    notification.className = `notification ${type}`;
    notification.innerHTML = `
        <i class="fas ${iconMap[type]}"></i>
        <span>${message}</span>
    `;

    notification.style.display = 'block';

    setTimeout(() => {
        notification.style.display = 'none';
    }, 5000);
}
```

---

## ğŸš€ ë°°í¬ ë° ìš´ì˜

### 1. ë¡œì»¬ ê°œë°œ í™˜ê²½

```bash
# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ í¸ì§‘

# ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”
npm run init-health-checkup

# ê°œë°œ ì„œë²„ ì‹¤í–‰ (nodemon)
npm run dev

# ê³µê°œ URL í„°ë„ (ì™¸ë¶€ ì ‘ê·¼)
npm run tunnel
```

### 2. í”„ë¡œë•ì…˜ ë°°í¬

#### HTTPS ì„¤ì • (í•„ìˆ˜)
```javascript
// Service WorkerëŠ” HTTPS í•„ìˆ˜ (localhost ì œì™¸)
const https = require('https');
const fs = require('fs');

const options = {
    key: fs.readFileSync('./ssl/private-key.pem'),
    cert: fs.readFileSync('./ssl/certificate.pem')
};

https.createServer(options, app).listen(443, () => {
    console.log('HTTPS ì„œë²„ ì‹¤í–‰: https://yourdomain.com');
});
```

#### ë²„ì „ ê´€ë¦¬
```javascript
// ë©”ì´ì €.ë§ˆì´ë„ˆ ë²„ì „ ê´€ë¦¬
this.VERSION = '3.1';
this.VERSION_DATE = '2025-10-29 19:00:00';

// Service Worker ìºì‹œ ë²„ì „
const CACHE_NAME = 'pwa-poc-v19';
```

### 3. ëª¨ë‹ˆí„°ë§

#### ë¡œê·¸ ê´€ë¦¬
```javascript
// ì½˜ì†” ë¡œê·¸ ë ˆë²¨
console.log('â„¹ï¸ ì •ë³´');
console.warn('âš ï¸ ê²½ê³ ');
console.error('âŒ ì˜¤ë¥˜');

// í”„ë¡œë•ì…˜ì—ì„œëŠ” ë¡œê·¸ ìˆ˜ì§‘ ì„œë¹„ìŠ¤ ì—°ë™ ê°€ëŠ¥
// - Sentry
// - LogRocket
// - New Relic
```

#### Service Worker ì—…ë°ì´íŠ¸ ì•Œë¦¼
```javascript
// ìƒˆ ë²„ì „ ê°ì§€ ì‹œ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼
this.swRegistration.addEventListener('updatefound', () => {
    const newWorker = this.swRegistration.installing;

    newWorker.addEventListener('statechange', () => {
        if (newWorker.state === 'installed' &&
            navigator.serviceWorker.controller) {
            // ì—…ë°ì´íŠ¸ ë°°ë„ˆ í‘œì‹œ
            this.showUpdateNotification();
        }
    });
});
```

---

## ğŸ“Š ì—‘ì…€ ì—°ë™

### SheetJS (xlsx) ë¼ì´ë¸ŒëŸ¬ë¦¬

#### ë°ì´í„° ë‚´ë³´ë‚´ê¸°
```javascript
async downloadAllDataToExcel() {
    // 1. ëª¨ë“  ë°ì´í„° ìˆ˜ì§‘
    const allData = {
        patients: await this.getAllFromStore('patients'),
        checkups: await this.getAllFromStore('checkups'),
        checkupTypes: await this.getAllFromStore('checkupTypes'),
        checkupItems: await this.getAllFromStore('checkupItems')
    };

    // 2. ì›Œí¬ë¶ ìƒì„±
    const wb = XLSX.utils.book_new();

    // 3. ê° ë°ì´í„°ë¥¼ ì‹œíŠ¸ë¡œ ì¶”ê°€
    const ws_patients = XLSX.utils.json_to_sheet(allData.patients);
    XLSX.utils.book_append_sheet(wb, ws_patients, 'í™˜ì');

    const ws_checkups = XLSX.utils.json_to_sheet(allData.checkups);
    XLSX.utils.book_append_sheet(wb, ws_checkups, 'ê²€ì§„');

    // 4. ì—‘ì…€ íŒŒì¼ ë‹¤ìš´ë¡œë“œ
    const filename = `ê±´ê°•ê²€ì§„_ì „ì²´ë°ì´í„°_${new Date().toISOString().split('T')[0]}.xlsx`;
    XLSX.writeFile(wb, filename);
}
```

#### ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
```javascript
async uploadDataFromExcel(event) {
    const file = event.target.files[0];
    const reader = new FileReader();

    reader.onload = async (e) => {
        // 1. ì—‘ì…€ íŒŒì¼ ì½ê¸°
        const data = new Uint8Array(e.target.result);
        const wb = XLSX.read(data, { type: 'array' });

        // 2. ê° ì‹œíŠ¸ì—ì„œ ë°ì´í„° ì¶”ì¶œ
        const ws_patients = wb.Sheets['í™˜ì'];
        const patients = XLSX.utils.sheet_to_json(ws_patients);

        // 3. IndexedDBì— ì €ì¥
        for (const patient of patients) {
            const exists = await this.getFromStore('patients', patient.id);

            if (!exists) {
                await this.addToStore('patients', {
                    ...patient,
                    sync_status: 'pending'
                });
            }
        }

        this.showNotification('ì—‘ì…€ ë°ì´í„°ë¥¼ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.', 'success');
    };

    reader.readAsArrayBuffer(file);
}
```

---

## ğŸ¨ UI/UX ê¸°ìˆ 

### ë°˜ì‘í˜• ë””ìì¸
```css
/* ëª¨ë°”ì¼ ìš°ì„  ì ‘ê·¼ */
.stats-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
}

/* íƒœë¸”ë¦¿ */
@media (min-width: 768px) {
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* ë°ìŠ¤í¬í†± */
@media (min-width: 1024px) {
    .stats-grid {
        grid-template-columns: repeat(4, 1fr);
    }
}
```

### ë‹¤í¬ ëª¨ë“œ ì§€ì› (ì„ íƒì )
```css
@media (prefers-color-scheme: dark) {
    :root {
        --bg-color: #1a1a1a;
        --text-color: #ffffff;
        --card-bg: #2d2d2d;
    }
}
```

### ë¡œë”© ìƒíƒœ í‘œì‹œ
```javascript
showLoading(show, message = 'ì²˜ë¦¬ ì¤‘...') {
    const loading = document.getElementById('loading');
    if (show) {
        loading.innerHTML = `
            <i class="fas fa-spinner fa-spin"></i>
            <p>${message}</p>
        `;
        loading.style.display = 'flex';
    } else {
        loading.style.display = 'none';
    }
}
```

---

## ğŸ“ ê°œë°œ ë„êµ¬ ë° í™˜ê²½

### NPM Scripts
```json
{
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js",
    "frontend": "http-server -p 8000",
    "dev:full": "concurrently \"npm run dev\" \"npm run frontend\"",
    "tunnel": "lt --port 3000 --subdomain nwfreepilot",
    "init-mssql": "node init-mssql.js",
    "init-health-checkup": "node init-health-checkup.js"
  }
}
```

### ì˜ì¡´ì„±
```json
{
  "dependencies": {
    "express": "^4.18.2",
    "mssql": "^10.0.1",
    "cors": "^2.8.5",
    "dotenv": "^17.2.3",
    "body-parser": "^1.20.2"
  },
  "devDependencies": {
    "nodemon": "^3.0.1",
    "concurrently": "^9.2.0",
    "http-server": "^14.1.1",
    "localtunnel": "latest"
  }
}
```

---

## ğŸ” ì£¼ìš” ê¸°ìˆ  ê²°ì • ì´ìœ 

| ê¸°ìˆ  | ì´ìœ  |
|------|------|
| **Vanilla JS** | í”„ë ˆì„ì›Œí¬ ì˜¤ë²„í—¤ë“œ ì œê±°, ë¹ ë¥¸ ë¡œë”©, ì™„ì „í•œ ì œì–´ |
| **IndexedDB** | ëŒ€ìš©ëŸ‰ ë°ì´í„° ì €ì¥, íŠ¸ëœì­ì…˜, ì¸ë±ìŠ¤ ì§€ì› |
| **Service Worker** | ì˜¤í”„ë¼ì¸ ì§€ì›, ë°±ê·¸ë¼ìš´ë“œ ë™ê¸°í™”, í‘¸ì‹œ ì•Œë¦¼ |
| **WebRTC** | ì„œë²„ ì—†ëŠ” P2P í†µì‹ , ì˜¤í”„ë¼ì¸ ë°ì´í„° ì „ì†¡ |
| **MSSQL** | ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ì•ˆì •ì„±, ë³‘ì› ì‹œìŠ¤í…œ í˜¸í™˜ì„± |
| **Express** | ê²½ëŸ‰, ìœ ì—°, ë¹ ë¥¸ ê°œë°œ |

---

## ğŸ“š ì°¸ê³  ìë£Œ

### ê³µì‹ ë¬¸ì„œ
- [MDN Web Docs - PWA](https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps)
- [Service Worker API](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API)
- [IndexedDB API](https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API)
- [WebRTC API](https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API)
- [Node.js Documentation](https://nodejs.org/en/docs/)
- [Express.js Guide](https://expressjs.com/en/guide/routing.html)

### ë¼ì´ë¸ŒëŸ¬ë¦¬
- [SheetJS (xlsx)](https://docs.sheetjs.com/)
- [Font Awesome](https://fontawesome.com/docs)
- [QRCode.js](https://github.com/davidshimjs/qrcodejs)
- [Html5-qrcode](https://github.com/mebjas/html5-qrcode)

---

**ë¬¸ì„œ ë²„ì „**: 1.0
**ìµœì¢… ìˆ˜ì •ì¼**: 2025-10-29
**ì‘ì„±ì**: Claude Code (v3.1)
